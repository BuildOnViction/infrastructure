version: "3.4"

services:

  telegraf:
    image: tomochain/infra-telegraf:testnet
    hostname: changeme
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /sys:/rootfs/sys:ro
      - /proc:/rootfs/proc:ro
      - /etc:/rootfs/etc:ro
    deploy:
      mode: global

  fullnode:
    image: tomochain/infra-tomochain:devnet
    tty: true
    environment:
      IDENTITY: changeme
      BOOTNODES: enode://9f3a7071bdd0f897c35e06118767dc2e060e8cf005679b06541a3e1c71cd3f757d53f0806db33917f14aa25fa0ab56da12351aba6b530280c43b144a0b97e789@18.136.151.139:30303,enode://7bcb35a5da24dd8ced54353140e0301be582f9bc62998d641837e7f82812943257ee995ea082d3195c702c722c73c6f241b8f61aa2412c906984bcbe127fe4b9@18.136.151.139:30304,enode://9f786dbec19c42675b4b6aedd60bf0accb1aa0ddd64f28cb40a439dc0c671d5cc58578a86e21019447a3b91980a34faac0cdb81939a7179a4aac242719b5dcc7@18.136.151.139:30305
      NETSTATS_HOST: stats.testnet.tomochain.com
      NETSTATS_PORT: 443
      WS_SECRET: changeme
    volumes:
      - blockchain:/tomochain/data

volumes:
  blockchain:
